<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font (IBM Plex Sans Condensed) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet"
    >

    <!-- Bootstrap (5.2.3) -->
    <link rel="stylesheet" href="../../css/bootstrap.css">  <!-- %UPDATE% -->
    <script defer src="../../js/bootstrap.bundle.min.js"></script>  <!-- %UPDATE% -->

    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="../../css/website-base.css">  <!-- %UPDATE% -->
    <title>SQL Tutorials: DCL</title>
</head>
<body>
    <!-- Header for title of webpage. -->
    <header class="container-fluid">
        <div class="row py-4 bg-primary">
            <h1 class="col text-center text-white">
                SQL TUTORIALS
            </h1>
        </div>
    </header>
    <!--- Navigation banner. -->
    <nav class="navbar navbar-expand-lg sticky-top py-0 navbar-dark bg-secondary">
        <!-- Container for entire navbar. -->
        <div class="container-fluid justify-content-end px-1">
            <!-- Hamburger menu that appears when screen gets smaller. -->
            <button class="navbar-toggler my-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Container for navbar items. -->
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../index.html">Home</a>  <!-- %UPDATE% -->
                    </li>
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../tutorials.html">Tutorials</a>  <!-- %UPDATE% -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Outer wrapper for main content. -->
    <div class="container-fluid" id="contentWrapper">
        <div class="row">
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
            <!-- Container for main content. -->
            <div class="col-12 col-md-10 col-lg-8 col-xxl-6 my-md-4 py-3 py-sm-4 px-0 px-sm-3 bg-white">
                <section class="container-fluid">
                    <!-- Title. -->
                    <div class="row">
                        <h2 class="col mb-3 mx-2 mx-sm-1 text-start border-start border-3 border-secondary text-primary">
                            SQL Tutorials: DCL
                        </h2>
                    </div>
                    <!-- Title/image. -->
                    <div class="row">
                        <div class="d-flex justify-content-center">
                            <img
                                class="img-fluid"
                                src="../../imgs/data-manupulation-language.jpg"
                                alt="%UPDATE% Picture of the word python written on a stick note."
                            >  <!-- %UPDATE% -->
                        </div>
                    </div>
                    <!-- Description. -->
                    <div class="row mt-2 mb-3">
                        <div class="col">
                            <p class="pt-2">
                                <b>DISCLAIMER: The Examples in this Tutorial use PostgreSQL. It's highly recommended that you download this application at the link below to follow along: <br><br>
                                    <a href="https://www.postgresql.org/download/">Download PostgreSQL</a>
                                </b><br><br>
                                So far in this Learning Series, we have explored how to create, manipulate, and delete both database objects and the data inside those objects. In this tutorial, we'll explore how <b><i>Data Control Language (DCL)</i></b> can be used to limit access to database objects and provide security for database operations. This tutorial covers the following learning objectives:
                            </p>
                            <ul>
                                <li>Granting User Access</li>
                                <li>Revoking User Access</li>
                                <li>Specifying User Policies</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">Granting User Access</h2><br>
                        <iframe width="650" height="400" src="https://www.youtube.com/embed/XfQGPEVgQvE?start=32" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br><br>
                        <h4 class="pt-4">Summary:</h4>
                        <ul>
                            <li class="pt-1"><b><i>Data Control Language (DCL)</i></b> is used to give access to or take access away from specific users. Like all digital systems, databases need to be secured. DCL enables Database Administrators (DBAs) to <i>control</i> who has access to which database objects, and what they can do with those objects (whether they can both query and insert data into the object, or just query the object).</li>
                            <li class="pt-2">If you want to insert multiple rows in the same statement, use the following syntax:
                                <br><code>INSERT INTO table_name VALUES (column1_value, column2_value, etc.), (column1_value, column2_value, etc.);</code></li>
                            <li class="pt-2">Using PgAdmin, you can import CSV data into a table using the GUI (see detailed instructions in the video above).</li>
                            <li class="pt-2">If you want to customize your CSV import using SQL, use the following syntax (PostgreSQL specific):
                                <br><code>COPY table_name(column1, column2, column3, column4, column5)<br>
                                FROM 'file_path'<br>
                                DELIMITER ","<br>
                                CSV HEADER;</code></li>
                            <li class="pt-2"><b>NOTE:</b> To avoid any errors, you need to ensure that the data types and column orders align when importing data from a CSV.</li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">Updating Data</h2><br>
                        <iframe width="650" height="400" src="https://www.youtube.com/embed/cd-hSl7_pGQ?end=252" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br><br>
                        <h4 class="pt-3">Summary:</h4>
                        <ul>
                            <li class="pt-2">The <b><i>UPDATE</i></b> statement is used to change the values in a column. This is used with the following syntax:
                                <br><code>UPDATE table_name<br> SET column = new_value;</code></li>
                            <li class="pt-2">It's a best practice to ALWAYS use the WHERE clause when updating column values. This ensures you don't accidentally update every value in the column. When updating a table based on a condition, use the following syntax:
                                <br><code>UPDATE table_name<br> SET column = new_value<br> WHERE [condition];</code></li>
                            <li class="pt-2">If you want to update multiple columns in the same statement, use the following syntax: 
                                <br><code>UPDATE table_name<br> SET column1 = new_value, column2 = new_value<br> WHERE [condition];</code></li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">Deleting Data</h2><br>
                        <iframe width="650" height="400" src="https://www.youtube.com/embed/c7AAkX39_Wo?end=278" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br><br>
                        <h4 class="pt-3">Summary:</h4>
                        <ul>
                            <li class="pt-1">The <b><i>DELETE</i></b> statement is used to remove data from a table based on a condition. This is used with the following syntax:<br>
                                <code>DELETE FROM table_name<br>
                                      WHERE [condition];</code>
                            </li>
                            <li class="pt-2">To delete specific rows in a table, use the following syntax:
                                <br><code>DELETE FROM [table_name] WHERE [condition];</code></li>
                            <li class="pt-2"><b>NOTE:</b> It's a best practice to ALWAYS run a SELECT statement with the same conditions mentioned in the WHERE clause of your proposed DELETE statement to ensure you're only removing data that is no longer needed.</li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">Exercise</h2>
                        <p class="pt-3"><b>Congratulations!</b> You just completed the DML Tutorial! To help test your knowledge, let's complete the exercise
                            outlined below. This exercise is based on the exercise of the previous tutorial. 
                            <br><b><i>**It's highly recommended that you
                            complete the exercise outlined in the previous tutorial before beginning this exercise.**</i></b>
                            </i></b>
                        </p>
                        <h4 class="pt-3">Instructions:</h4>
                        <ol>
                            <li class="pt-2"><b>Open your RDBMS Client.</b></li>
                            <li class="pt-2"><b>Open the "Sales" Database created in the previous tutorial.</b></li>
                            <li class="pt-2"><b>Create a New Table named "Orders" with the following schema:</b>
                                <ul>
                                    <li>id (INT) [PRIMARY KEY]</li>
                                    <li>order_date (DATE) [NOT NULL]</li>
                                    <li>num_items (INT) [NOT NULL]</li>
                                    <li>subtotal_amount (FLOAT) [NOT NULL]</li>
                                    <li>tax_amount (FLOAT) [NOT NULL]</li>
                                    <li>customer_id (INT) [FOREIGN KEY REFERENCES customers(id)</li>
                                    <li>employee_id (INT) [FOREIGN KEY REFERENCES employees(id)</li>
                                </ul>
                            </li>
                            <li class="pt-2"><b>Download the following files:</b>
                                <ul>
                                    <li><a href="../SQL/BackendDB/customers.csv">Customers Table Mock Data CSV File</a></li>
                                    <li><a href="../SQL/BackendDB/employees.csv">Employees Table Mock Data CSV File</a></li>
                                    <li><a href="../SQL/BackendDB/orders.csv">Orders Table Mock Data CSV File</a></li>
                                </ul>
                            </li>
                            <li class="pt-2"><b>Insert the data from the "customers.csv" file into the "Customer" table.</b>
                            </li>
                            <li class="pt-2"><b>Insert the data from the "employees.csv" file into the "Employees" table.</b>
                            </li>
                            <li class="pt-2"><b>Insert the data from the "orders.csv" file into the "Orders" table.</b>
                            </li>
                            <li class="pt-2"><b>Insert the following rows into the "Categories" table:</b>
                                <ul>
                                    <li>1, "Furniture", "This includes all items that furnish a home or backyard. Examples inlude couches, coffe tables, and ottomans."</li>
                                    <li>2, "Small Appliances", "This includes all items that are used to assist customers in their daily activities around the home. Examples include small fridges, soda can dispensers, and coffee makers."</li>
                                    <li>3, "Bedding", "This includes all items that are related to sleeping. Examples include mattresses, fitted sheets, loose sheets, and pillow cases."</li>
                                </ul>
                            </li>
                            <li class="pt-2"><b>Update the "wage" column in the "Employees" table by multiplying the current value by 1.5 for all employees hired before 3/1/2020.</b></li>
                            <li class="pt-2"><b>Update the "tax_amount" column in the "Orders" table by dividing the current value by 2 for all orders that had more than 10 items in it.</b>
                            </li>
                            <li class="pt-2"><b>Delete all rows from the "Customers" table where the "city" column is not null and the "state" column is null.</b>
                            </li>
                            <li class="pt-2"><b>Exercise Completed! Click <a href="DML-Answer-Key.html">here</a> to view the answers.</b></li>
                            <div class="col">
                                <p class="pt-4">Have any issues with the above exercise? Post your question on Discord!</p>
                            </div>
                        </ol>
                        <!-- Previous/Next Topic buttons. -->
                    <div class="row mt-4 mt-md-5 mb-2 px-3">
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary mb-3 mb-sm-0 py-2 fs-5"
                            href="Triggers.html">
                            Previous Topic
                        </a>
                        <div class="col-0 col-sm-4"></div>
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary py-2 fs-5"
                            href="TCL.html">
                            Next Topic
                        </a>
                    </div>
                </section>
            </div>
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
        </div>
    </div>
    <!-- Footer at bottom of page. -->
    <footer class="container-fluid bg-secondary">
        <div class="row align-items-center h-100">
            <h4 class="col m-0 text-center text-white">
                © 2023 Data Science Club @ UVU
            </h4>
        </div>
    </footer>
</body>
</html>
