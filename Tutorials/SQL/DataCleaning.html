<!DOCTYPE html>
<link rel="stylesheet" href="tutorials.css">
<title>SQL Tutorials: Data Cleaning</title>
<header>
<h1 style="text-align:center;">SQL Tutorials</h1>
    <div class="navbar">
        <a href="/Tutorials/SQLTutorials.html">Return to Home</a>
        <div class="dropdown" style="margin-left:80px;">
            <button class="dropbtn" style="margin-left:80px;">Learning Paths
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content" style="min-width:150px;margin-left:5.2%;">
            <a href="DSBeginner.html">Data Science</a>
            <a href="DSIntermediate.html">Data Engineering</a>
            <a href="DSAdvanced.html">Software Engineering</a>
            <a href="Projects.html">Data Analytics</a>
          </div>
        </div>
        <div class="dropdown" style="margin-left:0px;">
            <button class="dropbtn" style="margin-left:60px;">Challenges
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content" style="max-width:190px;margin-left:4%;">
            <a href="DEBeginner.html">Beginner</a>
            <a href="DEIntermediate.html">Intermediate</a>
            <a href="DEAdvanced.html">Advanced</a>
          </div>
        </div>
        <div class="dropdown">
          <button class="dropbtn">Projects
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content" style="min-width:170px;margin-left:5.2%;">
            <a href="SEBeginner.html">Beginner</a>
            <a href="SEIntermediate.html">Intermediate</a>
            <a href="SEAdvanced.html">Advanced</a>
          </div>
        </div>
        <div class="dropdown" style="margin-left:0px;">
            <button class="dropbtn" style="margin-left:60px;">Related Topics
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content" style="min-width:155px;margin-left:4.5%;">
            <a href="DABeginner.html">Python</a>
            <a href="DAIntermediate.html">NoSQL Databases</a>
            <a href="DAAdvanced.html">Tableau</a>
            <a href="Projects.html">Pandas</a>
          </div>
        </div>
      </div>
  </header>
  <div class="wrapperTutorials" style="width:1200px;">
    <section>
      <h2><u>ADVANCED SQL: Data Cleaning</u></h2><br><br>
      <h3 style="margin-left:99px;"><b><u>Introduction</u></b></h3>
      <p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">
        As a Data Analyst, Data Engineer, or Data Scientist, you won't always be working with pristine data. Due to this fact, it never hurts to learn basic data cleaning operations to ensure you're working with the highest quality of data. The term <b><i>Data Cleaning</i></b> refers to preparing the data for analysis and making the changes to the data dynamic enough to change between use cases and reversible to return to its original form. Because there are hundreds of potential data cleaning operations, we will focus on the following categories:
        <ul style="margin-left:110px;">
            <li style="line-height:25px;">Data Type Conversion</li>
            <li style="line-height:25px;">Common String Operations</li>
            <li style="line-height:25px;">Common Date Operations</li>
            <li style="line-height:25px;">Working with NULL Values</li>
        </ul>
      </p>
    </div>

                                                       <!-- Rollup Extension -->
    <div class="wrapperTutorials" style="width:1200px;">
        <section>
      <h3 style="margin-left:99px;font-size:30px;"><b>THE ROLLUP EXTENSION</b></h3>
        <p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">
        When aggregating column values, it can be difficult to identify outliers and changes over time. Luckily, the ROLLUP extension allows us to see how numerical values aggregate over time. This is also known as a <b><i>RUNNING TOTAL or MOVING AVERAGE</i></b>:
        </p>
        <div class="grid-container">
            <h4 style="font-size:22px;color:black;" class="item1"><b>Example</b></h4>
            <h4 style="font-size:22px;color:black;" class="item2"><b>Output</b></h4>
        </div>
            <div class="grid-container">
        <p style="text-align:justify;padding-left:0px;padding-right:50px;font-size:16px;line-height:25px;color:black;font-weight:lighter;" class="item1">
        &ensp;&ensp;&ensp;SELECT state, month, SUM(sales) runningTotal<br> 
        &ensp;&ensp;&ensp;FROM sales<br>
        &ensp;&ensp;&ensp;GROUP BY <b>ROLLUP</b> (state, month) <br>
        &ensp;&ensp;&ensp;ORDER BY state, CASE month<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'January' THEN 1<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'February' THEN 2<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'March' THEN 3<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          ELSE 4<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          END
                                        </p>
        
        <img style="margin-bottom:20px;" src="Images/rollupex.jpg" class="item2">
    </div>
    </section>
    </div>
                                                        <!-- Cube Extension -->
    <div class="wrapperTutorials" style="width:1200px;">
        <section>
        <h3 style="margin-left:99px;font-size:30px;"><b>THE CUBE EXTENSION</b></h3>
        <p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">
            The CUBE extension is a more detailed version of the ROLLUP extension. Rather than only showing only two levels of detail with the moving aggregates, the CUBE extension shows you every possible aggregation possible:
        <div class="grid-container">
            <h4 style="font-size:22px;color:black;" class="item1"><b>Example</b></h4>
            <h4 style="font-size:22px;color:black;" class="item2"><b>Output</b></h4>
        </div>
            <div class="grid-container">
        <p style="text-align:justify;padding-left:0px;padding-right:50px;font-size:16px;line-height:25px;color:black;font-weight:lighter;" class="item1">
        &ensp;&ensp;&ensp;SELECT state, month, SUM(sales) runningTotal<br> 
        &ensp;&ensp;&ensp;FROM sales<br>
        &ensp;&ensp;&ensp;GROUP BY <b>CUBE</b> (state, month) <br>
        &ensp;&ensp;&ensp;ORDER BY state, CASE month<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'January' THEN 1<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'February' THEN 2<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'March' THEN 3<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          ELSE 4<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          END
                                        </p>
        
        <img style="margin-bottom:20px;" src="Images/cubeex.jpg" class="item2">
    </div>
        </section>
        </div>

                                                         <!-- Conclusion -->
    <div class="wrapperTutorials" style="width:1200px;">
    <section>
        <h3 style="margin-left:99px;font-size:30px;"><b>THE GROUPING_ID EXTENSION</b></h3>
        <p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">
        One issue with the ROLLUP and CUBE extensions is the lack of identity associated with each level of detail. To help with this, the GROUPING_ID function was created:</p>
        <div class="grid-container">
            <h4 style="font-size:22px;color:black;" class="item1"><b>Example</b></h4>
            <h4 style="font-size:22px;color:black;" class="item2"><b>Output</b></h4>
        </div>
            <div class="grid-container">
        <p style="text-align:justify;padding-left:0px;padding-right:50px;font-size:16px;line-height:25px;color:black;font-weight:lighter;" class="item1">
        &ensp;&ensp;&ensp;SELECT state, month, SUM(sales) runningTotal,<br>
        &ensp;&ensp;&ensp;<b>GROUPING_ID</b>(state, month) levelOfDetail<br>
        &ensp;&ensp;&ensp;FROM sales<br>
        &ensp;&ensp;&ensp;GROUP BY <b>CUBE</b> (state, month) <br>
        &ensp;&ensp;&ensp;ORDER BY state, CASE month<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'January' THEN 1<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'February' THEN 2<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          WHEN 'March' THEN 3<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          ELSE 4<br>
        &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                          END, levelOfDetail
                                        </p>
        
        <img style="margin-bottom:20px;" src="Images/groupingidex.jpg" class="item2">
    </div>
        </section>
        </div>

        <div class="wrapperTutorials" style="width:1200px;">
            <section>
                <h3 style="margin-left:99px;font-size:30px;"><b>THE GROUPING_SETS EXTENSION</b></h3>
                <p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">
                The GROUPING SETS extension is almost identical to the previous example, except it's much easier to read and you can customize the columns being aggregated:</p>
                <div class="grid-container">
                    <h4 style="font-size:22px;color:black;" class="item1"><b>Example</b></h4>
                    <h4 style="font-size:22px;color:black;" class="item2"><b>Output</b></h4>
                </div>
                    <div class="grid-container">
                <p style="text-align:justify;padding-left:0px;padding-right:50px;font-size:16px;line-height:25px;color:black;font-weight:lighter;" class="item1">
                &ensp;&ensp;&ensp;SELECT state, month, SUM(sales) runningTotal<br>
                &ensp;&ensp;&ensp;FROM sales<br>
                &ensp;&ensp;&ensp;GROUP BY <b>GROUPING SETS</b> ((state, month), (state), (month)) <br>
                &ensp;&ensp;&ensp;ORDER BY state, CASE month<br>
                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                                  WHEN 'January' THEN 1<br>
                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                                  WHEN 'February' THEN 2<br>
                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                                  WHEN 'March' THEN 3<br>
                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                                  ELSE 4<br>
                &ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;
                                                  END, levelOfDetail
                                                </p>
                
                <img style="margin-bottom:20px;" src="Images/groupingsetsex.jpg" class="item2">
            </div>
                </section>
                </div>

        <div class="wrapperTutorials" style="width:1200px;">
            <section>
                <h3 style="margin-left:99px;font-size:30px;"><b>CONCLUSION</b></h3>
                <p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">
                Data analysis in SQL can be very powerful, yet challenging to comprehend. As you may have noticed in the examples above, it can be difficult to see the difference between the different groups as far as which group in contributing the most or least. To help with this it's criticial to become proficient in basic Data Visualization techniques. Before continuing in this learning series, I would HIGHLY recomnmend checking how either the <a href="TableauTutorials.html">Tableau</a> or <a href="PowerBITutorials.html">Power BI</a> tutorials.</p>
                </section>
                </div>

                                                        <!-- Next Steps -->
    <div class="wrapperTutorials" style="width:1200px;">
        <section>
        <h3 style="margin-left:99px;font-size:22px;"><b><u>Next Steps</u></b></h3><p style="text-align:justify;padding-left:100px;padding-right:100px;font-size:16px;line-height:25px;">Querying techniques in SQL supercede everything. Now that we know how to perform some basic analytical techniques, let's look at how to create analytical tables::<br>
            <a href="GroupByExtensions.html" style="text-decoration:none;color:black;font-weight:bolder;">- Group By Extensions Tutorial  (Click here)</a>
        </p>
        </section>
        </div>
        </p>


    
</html>