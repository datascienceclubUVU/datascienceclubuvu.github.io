<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font (IBM Plex Sans Condensed) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet"
    >

    <!-- Bootstrap (5.2.3) -->
    <link rel="stylesheet" href="../../css/bootstrap.css">  <!-- %UPDATE% -->
    <script defer src="../../js/bootstrap.bundle.min.js"></script>  <!-- %UPDATE% -->

    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="../../css/website-base.css">  <!-- %UPDATE% -->
    <title>SQL Tutorials: CASE Statements | Data Science Club @ UVU</title>
</head>
<body>
    <!-- Header for title of webpage. -->
    <header class="container-fluid">
        <div class="row py-4 bg-primary">
            <h1 class="col text-center text-white">
                SQL TUTORIALS
            </h1>
        </div>
    </header>
    <!--- Navigation banner. -->
    <nav class="navbar navbar-expand-lg sticky-top py-0 navbar-dark bg-secondary">
        <!-- Container for entire navbar. -->
        <div class="container-fluid justify-content-end px-1">
            <!-- Hamburger menu that appears when screen gets smaller. -->
            <button class="navbar-toggler my-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Container for navbar items. -->
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../index.html">Home</a>  <!-- %UPDATE% -->
                    </li>
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../tutorials.html">Tutorials</a>  <!-- %UPDATE% -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Outer wrapper for main content. -->
    <div class="container-fluid" id="contentWrapper">
        <div class="row">
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
            <!-- Container for main content. -->
            <div class="col-12 col-md-10 col-lg-8 col-xxl-6 my-md-4 py-3 py-sm-4 px-0 px-sm-3 bg-white">
                <section class="container-fluid">
                    <!-- Title. -->
                    <div class="row">
                        <h2 class="col mb-3 mx-2 mx-sm-1 text-start border-start border-3 border-secondary text-primary">
                            SQL Tutorials: CASE Statements
                        </h2>
                    </div>
                    <!-- Title/image. -->
                    <div class="row">
                        <div class="d-flex justify-content-center">
                            <img
                                class="img-fluid"
                                src="../../imgs/case-statements.png"
                                alt="[Enter image here]"
                                width=100%
                            >  <!-- %UPDATE% -->
                        </div>
                    </div>
                    <!-- Description. -->
                    <div class="row mt-2 mb-3">
                        <div class="col">
                            <p class="pt-2">
                                <b>DISCLAIMER: Before starting this tutorial, it's highly recommended that you download an RDBMS to follow along.
                                    We recommend using either PostgreSQL, MS SQL Server, or MySQL.
                                 </b><br><br>
                                When conducting data analysis tasks, you will be working with two types of variables: discrete/categorical and
                                continuous/scalar. In this tutorial, we will be focusing on how to create categorical variables through the
                                use of a conditional column. This tutorial will cover the following learning objectives:
                            </p>
                            <ul>
                                <li>CASE Statement Syntax</li>
                                <li>CASE Statement Use Cases</li>
                                <li>CASE Statements with Aggregate Functions</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">How to Create Conditional Column in SQL</h2> <br>
                        <p><b>DISCLAIMER: To avoid confusion, please stop the video at the 4:00 mark.</b></p>
                        <a href="https://www.youtube.com/watch?v=mf_IFI3I7to"><img class="img-fluid", width= 75%, src="https://i.ytimg.com/vi/mf_IFI3I7to/hqdefault.jpg"></a> <br><br>
                        <h4 class="pt-4">Summary</h4>
                        <ul>
                            <li class="pt-1">The <b><i>CASE</i></b> statement is used to create a column whose values are derived from the value of
                                one or more other columns. To create a CASE statement, use the following syntax:
                                        <br><code>SELECT [column_name], [column_name],
                                            <br>&ensp;&ensp;&ensp;CASE
                                        <br>&ensp;&ensp;&ensp;WHEN [condition1] THEN [value]
                                        <br>&ensp;&ensp;&ensp;WHEN [condition2] THEN [value]
                                        <br>&ensp;&ensp;&ensp;ELSE [value]
                                        <br>&ensp;&ensp;&ensp;END AS [new_column_name]
                                        <br>FROM [table_name];
                                </code>
                            </li>
                            <li class="pt-2">This technique can be used with any data type, though the resulting column must be the same data type
                                across conditions.
                            </li>
                            <li class="pt-2"><b>NOTE:</b> As mentioned in the video, CASE statements work in a top-down approach, meaning that once a condition is met, the lower conditions will be ignored.</li>
                            <li class="pt-2"><b>NOTE:</b> The CASE statement can be used in other clauses, such as the WHERE, GROUP BY, and ORDER BY clauses. We will cover these in a later tutorial.
                            </li>
                            </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">How to Use CASE Statements in Aggregate Functions</h2> <br>
                        <p><b>DISCLAIMER: To avoid confusion, please stop the video at the 4:00 mark.</b></p>
                        <a href="https://www.youtube.com/watch?v=ImiEKaEBvjE"><img class="img-fluid", width= 75%, src="https://i.ytimg.com/vi/ImiEKaEBvjE/hqdefault.jpg"></a> <br><br>
                        <h4 class="pt-4">Summary</h4>
                        <ul>
                            <li class="pt-1">When used in Aggregate Functions, the <b><i>CASE</i></b> statement is used to as both a filter and an IF/THEN clause. To create a CASE statement within the COUNT Function, use the following syntax:
                                        <br><code>SELECT [column_name], [column_name],
                                            <br>&ensp;&ensp;&ensp;COUNT(CASE
                                        <br>&ensp;&ensp;&ensp;WHEN [condition1] THEN [integer]
                                        <br>&ensp;&ensp;&ensp;WHEN [condition2] THEN [integer]
                                        <br>&ensp;&ensp;&ensp;ELSE [integer] END) AS [new_column_name]
                                        <br>FROM [table_name]
                                        <br> GROUP BY [column_name], [column_name];
                                </code>
                            </li>
                            <li class="pt-2">When including a CASE statement in the SUM or AVG Function, use the following syntax:
                                <br><code>SELECT [column_name], [column_name],
                                    <br>&ensp;&ensp;&ensp;SUM(CASE
                                <br>&ensp;&ensp;&ensp;WHEN [condition1] THEN [column_name]
                                <br>&ensp;&ensp;&ensp;WHEN [condition2] THEN [column_name]
                                <br>&ensp;&ensp;&ensp;ELSE [integer] END) AS [new_column_name]
                                <br>FROM [table_name]
                                <br> GROUP BY [column_name], [column_name];
                        </code>
                            </li>
                            <li class="pt-2"><b>NOTE:</b>As mentioned in the video, CASE statements work in a top-down approach, meaning that once a condition is met, the lower conditions will be ignored.</li>
                            </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary" id="exercise">Exercise</h2>
                        <p><b>Congratulations!</b> You just completed the CASE Statements Tutorial! To help test your knowledge, let's
                            use the "lego" database to run some queries with CASE statements. This exercise is based on the exercise of 
                            the "Joins" tutorial. <br><br>**<b><i>It's highly recommended that you
                            complete the exercise outlined in the previous tutorial before beginning this exercise.**</i></b>
                            </i></b>
                        </p>
                        <h4 class="pt-3">Instructions:</h4>
                        <ol>
                            <li class="pt-2">Open your RDBMS Client (e.g., MySQL, PostgreSQL, MS SQL Server).</b></li>
                            <li class= "pt-2">If you haven't created the "lego" database yet, please view the instructions in the "Joins" tutorial.
                            <li class="pt-2">"lego" database ERD:</li> <br>
                            <img src="../SQL/IntermediateDB/downloads_schema.png">
                            <p><b><i><u>The Database used in this exercise includes data on hundreds of Lego sets and their associated parts, colors, and themes.</u></i></b></p>
                            <li class="pt-2">With the "lego" database, write the following queries:</li>
                            <ol type="a">
                                <li class="pt-2"><b>Write a query that includes a conditional column that states whether or not a part is in inventory. if it's not in inventory, mark it with "Not Available". Only include the part_num, name fields (and the conditional column). Make sure to give the conditional column a descriptive name.
                                </b></li>
                                <li class="pt-2"><b>Write a query that includes a conditional column that states the category of theme of a given set in inventory. Only include the set_num and the set name (and the conditional column). Make sure to give your conditional column a descriptive name. The categories are listed below: </b><br>
                                    <ul>
                                        <li><b>Kids:</b> 4 Juniors, Animals, Cars, Dino, Dino 2010, Dino Attack</li>
                                        <li><b>Young Teens:</b> Adventurers, Agents, Avengers, Ben 10, Coast Guard</li>
                                        <li><b>Older Teens:</b> Harry Potter, Indiana Jones, Lamborghini</li>
                                    </ul> 
                                </li>
                                <li class="pt-2"><b>Write a query that shows the popularity status of all sets in inventory. If the quantity is greater than 20, mark the set as 'Popular', if the quantity if between 10 and 20, then mark the set as 'Average', if the quantity is less than 10, mark the set as 'Not Popular'.
                                </b></li>
                                <li class="pt-2"><b>Write a query that recommends the number of each set in inventory for the Holiday Season with the following conditions: if the current quantity is greater than 20, the recommended quantity should be double the current quantity, if the current quantity is between 10 and 20, the recommended quantity should be 1.75 times the current quantity, else the quantity should be the same. Name the conditonal column 'Recommended Quantity'. Include the set's name and the current quantity.</b></li>
                            </ol>
                            <li class="pt-4"><b>Exercise Completed! Click <a href="Case-Statements-Answer-Key.html">here</a> to view the answers.</b></li>
                            <div class="col">
                                <p class="pt-4">Have any issues with the above exercise? Post your question on Discord!</p>
                            </div>
                        </ol>
                        <!-- Previous/Next Topic buttons. -->
                    <div class="row mt-4 mt-md-5 mb-2 px-3">
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary mb-3 mb-sm-0 py-2 fs-5"
                            href="Unions.html">
                            Previous Topic
                        </a>
                        <div class="col-0 col-sm-4"></div>
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary py-2 fs-5"
                            href="Group-By-Extensions.html">
                            Next Topic
                        </a>
                    </div>
                </section>
            </div>
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
        </div>
    </div>
    <!-- Footer at bottom of page. -->
    <footer class="container-fluid bg-secondary">
        <div class="row align-items-center h-100">
            <h4 class="col m-0 text-center text-white">
                © 2023 Data Science Club @ UVU
            </h4>
        </div>
    </footer>
</body>
</html>
