<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font (IBM Plex Sans Condensed) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet"
    >

    <!-- Bootstrap (5.2.3) -->
    <link rel="stylesheet" href="../../css/bootstrap.css">  <!-- %UPDATE% -->
    <script defer src="../../js/bootstrap.bundle.min.js"></script>  <!-- %UPDATE% -->

    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="../../css/website-base.css">  <!-- %UPDATE% -->
    <title>Pandas Tutorials: Aggregating Data</title>
</head>
<body>
    <!-- Header for title of webpage. -->
    <header class="container-fluid">
        <div class="row py-4 bg-primary">
            <h1 class="col text-center text-white">
                PANDAS TUTORIALS
            </h1>
        </div>
    </header>
    <!--- Navigation banner. -->
    <nav class="navbar navbar-expand-lg sticky-top py-0 navbar-dark bg-secondary">
        <!-- Container for entire navbar. -->
        <div class="container-fluid justify-content-end px-1">
            <!-- Hamburger menu that appears when screen gets smaller. -->
            <button class="navbar-toggler my-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Container for navbar items. -->
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../index.html">Home</a>  <!-- %UPDATE% -->
                    </li>
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../tutorials.html">Tutorials</a>  <!-- %UPDATE% -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Outer wrapper for main content. -->
    <div class="container-fluid" id="contentWrapper">
        <div class="row">
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
            <!-- Container for main content. -->
            <div class="col-12 col-md-10 col-lg-8 col-xxl-6 my-md-4 py-3 py-sm-4 px-0 px-sm-3 bg-white">
                <section class="container-fluid">
                    <!-- Title. -->
                    <div class="row">
                        <h2 class="col mb-3 mx-2 mx-sm-1 text-start border-start border-3 border-secondary text-primary">
                            Pandas Tutorials: Aggregating Data
                        </h2>
                    </div>
                    <!-- Title/image. -->
                    <div class="row">
                        <div class="d-flex justify-content-center">
                            <img
                                class="img-fluid"
                                src="../../imgs/pandas-groupby.webp"
                                alt="[Enter image here]"
                                width=100%
                            >  <!-- %UPDATE% -->
                        </div>
                    </div>
                    <!-- Description. -->
                    <div class="row mt-2 mb-3">
                        <div class="col">
                            <p class="pt-2">
                                The next technique related to Data Cleaning is <b><i>Aggregating Data</i></b>. Aggregation consists of gathering related data and comparing it against one or more groups (e.g., average grade per student). This tutorial will cover the following learning objectives:
                            </p>
                            <ul>
                                <li>How to Aggregate Data Using the "groupby" Method</li>
                                <li>How to Measure Numerical Data Using Common Aggregation Methods</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">How to Aggregate Data Using the "groupby" Method</h2> <br>
                        <iframe width="650" height="400" src="https://www.youtube.com/embed/ipoSjrN0oh0?end=223" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br><br>
                        <h4 class="pt-4">Summary</h4>
                        <ul>
                            <li class="pt-1">The <b><i>groupby</i></b> method is the most common method used to aggregate data using one or more columns. When aggregating data, you must specify a measure (or calculation) to compare against the groups. This is used with the following syntax: <br>
                                <code>dataframe.groupby(['group_column1', 'group_column2'])['measure_column'].[aggregate_method]()</code><br><br>
                                <b>Example:</b><br>
                                <code>orders.groupby(['customer_name'])['purchase_amount'].sum()</code></li>
                            <li class="pt-2">If you want to use multiple measures to compare against a single field, use the following syntax: <br>
                                <code>dataframe.groupby(['group_column1'])[['measure_column1', 'measure_column2']].[aggregate_method]()</code><br><br>
                                <b>Example:</b><br>
                                <code>orders.groupby(['customer_name'])[['purchase_amount', 'num_items']].sum()</code></li>
                            <li class="pt-2">If you want to compare a single measure against multiple fields, use the following syntax: <br>
                                <code>dataframe.groupby(['group_column1', 'group_column2'])['measure_column'].[aggregate_method]()</code><br><br>
                                <b>Example:</b><br>
                                <code>orders.groupby(['customer_name', 'purchase_year'])['purchase_amount'].sum()</code></li>
                            <li class="pt-2">The <b><i>as_index</i></b> parameter is used to change the output DataFrame from a MultiIndex DataFrame to an average DataFrame. This tends to only be helpful when using more than one field as a group. This is used with the following syntax: <br>
                                <code>dataframe.groupby(['group_column1', 'group_column2'], as_index=False)['measure_column'].[aggregate_method]()</code><br><br>
                                <b>Example:</b><br>
                                <code>orders.groupby(['customer_name', 'purchase_year'], as_index=False)['purchase_amount'].sum()</code></li>
                            <li class="pt-2"><b>NOTE:</b> A <b><i>Multiindex DataFrame</i></b> is a DataFrame that contains multiple indices in a hierarchical structure. This is commonly used when drilling down groups (such as going from year to quarter to month).</li>
                            </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">How to Measure Numerical Data Using Common Aggregation Methods</h2> <br>
                        <iframe width="650" height="400" src="https://www.youtube.com/embed/ipoSjrN0oh0?start=223&end=276" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe><br><br>
                        <h4 class="pt-4">Summary</h4>
                        <ul>
                            <li class="pt-1">The <b><i>agg</i></b> method is used to specify which aggregation method(s) you'd like to include in the output DataFrame. This is used with the following syntax: <br>
                                <code>dataframe.groupby(['group_column1'])['measure_column'].agg(['aggregation_method1', 'aggregation_method2'])</code></li>
                            <li class="pt-2">The <b><i>sum</i></b> method is used to add together all values in the column. This can only be used with numeric columns.</li>
                            <li class="pt-2">The <b><i>mean</i></b> method is used to add together all values in the column and divide by the number of values in the column. This can only be used with numeric columns. This is also known as the <b><i>average</i></b>.</li>
                            <li class="pt-2">The <b><i>count</i></b> method is used to count the number of distinct values in the column. This can be used with either numeric or string columns.</li>
                            <li class="pt-2">The <b><i>min</i></b> method is used to find the smallest value in the column. This can be used with either numeric or string columns.</li>
                            <li class="pt-2">The <b><i>max</i></b> method is used to find the largest value in the column. This can be used with either numeric or string columns.</li>
                            <li class="pt-2">The <b><i>median</i></b> method is used to sort the values in the column from least to greatest and find the middle value, also known as the <b><i>50th percentile</i></b>. This can only be used with numeric columns.</li>
                            <li class="pt-2"><b>NOTE:</b> When getting the mean of a binary column (where the values are either 0 or 1), the value returned is the proportion of 1's to 0's (e.g., if the mean is 0.37, that means 37% of the values are 1's).</li>
                            </ul><br>
                    
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary" id="exercise">Exercise</h2>
                        <p><b>Congratulations!</b> You just completed the Aggregating Data Tutorial! To help test your knowledge, let's
                            practice comparing measures across various combinations of groups using various aggregation methods.</i></b>
                            </i></b>
                            <br>**<b><i>It's highly recommended that you
                                complete the exercise outlined in the previous tutorial before beginning this exercise.**</i></b>
                        </p>
                        <h4 class="pt-3">Instructions:</h4>
                        <ol>
                            <li class="pt-2">Open your IDE (e.g., VS Code, PyCharm, Spyder).</b></li>
                            <li class= "pt-2">Create a New Jupyter Notebook, or similar Notebook Environment. Name it "missing-values.ipynb"</li>
                            <li class="pt-2">In the Notebook, complete the following tasks:</li>
                            <ol type="a">
                                <li class="pt-2"><b>Download the Following Files:</b> <br>
                                    <ul>
                                        <li><a href="./Exercise Files/clean_listings.parquet">Sample Parquet File</a></li>
                                    </ul></li>
                                <li class="pt-2"><b>Read the Parquet File into a DataFrame object named "listings"</b></li>
                                <li class="pt-2"><b>Filter the "listings" DataFrame to only include listings that are missing a value in the "hwy_mpg" column. Assign the filtered DataFrame to a new variable called "temp"</b></li>
                                <li class="pt-2"><b>In the "temp" DataFrame, replace all the Missing Values in the "hwy_mpg" column with the value of the "city_mpg" multiplied by 1.15. Make the changes inplace.</i></b></li>
                                <li class="pt-2"><b>In the "temp" DataFrame, drop all values that have a Missing Value in the "price" column. Make the changes inplace.</b></li>
                                <li class="pt-2"><b>In the "listings" DataFrame, interpolate the Missing Values in the "hwy_mpg" column.</b></li>
                            </ol>
                            <li class="pt-4"><b>Exercise Completed! Click <a href="./Missing-Values-Answer-Key.html">here</a> to view the answers.</b></li>
                            <div class="col">
                                <p class="pt-4">Have any issues with the above exercise? Post your question on Discord!</p>
                            </div>
                        </ol>
                    <!-- Previous/Next Topic buttons. -->
                    <div class="row mt-4 mt-md-5 mb-2 px-3">
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary mb-3 mb-sm-0 py-2 fs-5"
                            href="./Missing-Values.html">
                            Previous Topic
                        </a>
                        <div class="col-0 col-sm-4"></div>
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary py-2 fs-5"
                            href="./Database-Connections.html">
                            Next Topic
                        </a>
                    </div>
            </section>
        </div>
        <div class="col-md-1 col-lg-2 col-xxl-3"></div>
    </div>
</div>
<!-- Footer at bottom of page. -->
<footer class="container-fluid bg-secondary">
    <div class="row align-items-center h-100">
        <h4 class="col m-0 text-center text-white">
            © 2023 Data Science Club @ UVU
        </h4>
    </div>
</footer>
</body>
</html>
