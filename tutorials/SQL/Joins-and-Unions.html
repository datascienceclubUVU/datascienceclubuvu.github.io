<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Google Font (IBM Plex Sans Condensed) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Condensed:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&display=swap"
        rel="stylesheet"
    >

    <!-- Bootstrap (5.2.3) -->
    <link rel="stylesheet" href="../../css/bootstrap.css">  <!-- %UPDATE% -->
    <script defer src="../../js/bootstrap.bundle.min.js"></script>  <!-- %UPDATE% -->

    <!-- Favicon. -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon/favicon-16x16.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <link rel="stylesheet" href="../../css/website-base.css">  <!-- %UPDATE% -->
    <title>SQL Tutorials: Joins and Unions | Data Science Club @ UVU</title>
</head>
<body>
    <!-- Header for title of webpage. -->
    <header class="container-fluid">
        <div class="row py-4 bg-primary">
            <h1 class="col text-center text-white">
                SQL TUTORIALS
            </h1>
        </div>
    </header>
    <!--- Navigation banner. -->
    <nav class="navbar navbar-expand-lg sticky-top py-0 navbar-dark bg-secondary">
        <!-- Container for entire navbar. -->
        <div class="container-fluid justify-content-end px-1">
            <!-- Hamburger menu that appears when screen gets smaller. -->
            <button class="navbar-toggler my-1" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Container for navbar items. -->
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../index.html">Home</a>  <!-- %UPDATE% -->
                    </li>
                    <li class="nav-item mx-4">
                        <a class="nav-link text-center" href="../../tutorials.html">Tutorials</a>  <!-- %UPDATE% -->
                    </li>
                </ul>
            </div>
        </div>
    </nav>
    <!-- Outer wrapper for main content. -->
    <div class="container-fluid" id="contentWrapper">
        <div class="row">
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
            <!-- Container for main content. -->
            <div class="col-12 col-md-10 col-lg-8 col-xxl-6 my-md-4 py-3 py-sm-4 px-0 px-sm-3 bg-white">
                <section class="container-fluid">
                    <!-- Title. -->
                    <div class="row">
                        <h2 class="col mb-3 mx-2 mx-sm-1 text-start border-start border-3 border-secondary text-primary">
                            SQL Tutorials: Joins and Unions
                        </h2>
                    </div>
                    <!-- Title/image. -->
                    <div class="row">
                        <div class="d-flex justify-content-center">
                            <img
                                class="img-fluid"
                                src="../../imgs/joins.jfif"
                                alt="%UPDATE% Picture of the word python written on a stick note."
                                width=100%
                            >  <!-- %UPDATE% -->
                        </div>
                    </div>
                    <!-- Description. -->
                    <div class="row mt-2 mb-3">
                        <div class="col">
                            <p class="pt-2">
                                <b>DISCLAIMER: Before starting this tutorial, it's highly recommended that you download an RDBMS to follow along.
                                   We recommend using either PostgreSQL, MS SQL Server, or MySQL.
                                </b><br><br>
                                Congratulations! You have now progressed to the Intermediate-Level Tutorials! The topics covered in the Beginner-level
                                laid the groundwork for this level. To start off the Intermediate level, we will transition from writing queries
                                with one table to writing queries with multiple tables using <b><i>Joins</i></b> and combining queries with
                                <b><i>Unions</i></b>. In this tutorial, we will cover the following learning objectives:
                            </p>
                            <ul>
                                <li>INNER Joins</li>
                                <li>LEFT and RIGHT OUTER Joins</li>
                                <li>FULL OUTER Joins</li>
                                <li>CROSS Joins</li>
                                <li>SELF Joins</li>
                                <li>Unions</li>
                            </ul>
                        </div>
                    </div>
                    <div>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">INNER Joins</h2>
                        <p class="pt-3">The most basic and common join type is that of identifying what two tables have in common. Although
                            this can be done in a variety of ways, the <b><i>Inner Join</i></b> is by far the most simple. Watch the following
                            video to get a better understanding of this concept:
                        </p>
                        <ul>
                            <a href="https://www.youtube.com/watch?v=a-xlrdG-fpY">INNER JOIN in SQL</a>
                        </ul>
                        <h4 class="pt-4">Summary</h4>
                        <ul>
                            <li class="pt-1">The <b><i>INNER JOIN</i></b> is used to connect primary and foreign keys in two or more tables. This
                                is used to explicitly define the relationship between tables. To create an inner join, use the following syntax:
                                <br><code>SELECT *<br> FROM [tableA]<br> [INNER] JOIN [tableB] ON [tableA].[primaryKey] = [tableB].[foreignKey];</code></li>
                            <li class="pt-4">To conduct an inner join between more than two tables, use the following syntax:
                                <br><code>SELECT *<br> FROM [tableA]<br> [INNER] JOIN [tableB] ON [tableA].[primaryKey] = [tableB].[foreignKey]<br>
                                [INNER] JOIN [tableC] ON [tableB].[primaryKey] = [tableC].[foreignKey];</code>
                            </li>
                            <li class="pt-4"><b>QUICK NOTE:</b> The "INNER" keyword is optional and is rarely used when writing queries in a business
                                context.</li>
                            </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">LEFT and RIGHT OUTER Joins</h2>
                        <p class="pt-3">The second most common join types are LEFT and RIGHT OUTER joins. These are called <b><i>OUTER</i></b> joins
                            because it includes both items inside and outside both tables. Watch the following videos to get a better understanding of
                            this concept:
                        </p>
                        <ul>
                            <a href="https://youtube.com/clip/UgkxsurR6ZUZnY4jZMNk6wfr74ZwfJWsW02i">LEFT Joins in SQL</a><br>
                            <a href="https://youtube.com/clip/Ugkx7PETKzytHMaJqtK4pST8P6YsQQcFBIvK">RIGHT Joins in SQL</a>
                        </ul>
                        <h4 class="pt-4">Summary:</h4>
                        <ul>
                            <li class="pt-1">The <b><i>LEFT JOIN</i></b> retrieves all rows in the left table and all rows that match the primary key
                                in the right table. All other rows that don't match the primary key will be null. To create a left join, use the
                                following syntax:
                                <br><code>SELECT *<br> FROM [tableA]<br> LEFT JOIN [tableB] ON [tableA].[primaryKey] = [tableB].[foreignKey];</code></li>
                            <li class="pt-4">The <b><i>RIGHT JOIN</i></b> retrieves all rows in the right table and all rows that match the primary key
                                in the left table. All other rows that don't match the primary key will be null. To create a right join, use the 
                                following syntax:
                                <br><code>SELECT *<br>FROM [tableA]<br> RIGHT JOIN [tableB] ON [tableA].[primaryKey] = [tableB].[foreignKey];</code></li>
                            <li class="pt-4"><b>QUICK NOTE</b>: These types of joins can be used interchangeably by simply changing which table you
                                specify in the "FROM" clause. However, it's a best practice to use LEFT JOIN as default to keep your queries consistent.</li>
                            </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">FULL OUTER Joins</h2>
                        <p class="pt-3">The most versatile type of join is a <b><i>FULL OUTER Join</i></b>. This is because you can view the contents of
                            both tables while simultaneously viewing what they have in common. Watch the following video to get a better understanding of
                            this concept:
                        </p>
                        <ul>
                            <a href="https://youtube.com/clip/Ugkxj35qsGIRO6l67XQlOgpeGiiZjp5ZKUkH">FULL Joins in SQL</a>
                        </ul>
                        <h4 class="pt-4">Summary:</h4>
                        <ul>
                            <li class="pt-1">As mentioned above, the <b><i>FULL OUTER Join</i></b> is used to retrieve all rows from both
                                tables contained in the join clause, whether or not they match the primary key. To create a full join, use the
                                following syntax:
                                <br><code>SELECT *<br> FROM [tableA]<br> FULL JOIN [tableB] ON [tableA].[primaryKey] = [tableB].[foreignKey];</code></li>
                            <li class="pt-4"><b>QUICK NOTE:</b> Make sure to view your RDBMSs documentation to see if the "OUTER" keyword is required or
                                not. This may help to clarify the join type, though it's implicitly an outer join by nature.</li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">CROSS Joins</h2>
                        <p class="pt-3">The most seldom used join type is the <b><i>CROSS Join</i></b>. This is because it typically doesn't provide
                            much business value and is difficult to understand. However, it may come up in a technical interview so it never hurts to
                            understand why and when to use it. Watch the following video to get a better understanding of this concept:
                        </p>
                        <ul>
                            <a href="https://www.youtube.com/watch?v=DH7c5BT_KZE">SQL Cross Join</a>
                        </ul>
                        <h4 class="pt-4">Summary:</h4>
                        <ul>
                            <li class="pt-1">The <b><i>CROSS Join</i></b> creates a cartesian product. A <b><i>Cartesian Product</i></b> is when you
                                create every possible combination of attributes. To create a CROSS Join, use the following syntax:
                                <br><code>SELECT *<br> FROM [tableA]<br> CROSS JOIN [tableB];</code></li>
                            <li class="pt-4">When conducting data manipulation activities, you may need to <b><i>scaffold</i></b>, or change the
                            granularity, of your data. This is helpful when trying to guide your stakeholders through an analysis. To see an example
                            of this, watch the video above (towards the end).</li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">SELF Joins</h2>
                        <p class="pt-3">While on the topic of joins, why don't we learn a more advanced join type? The <b><i>SELF Join</i></b> is used
                            primarily for hierarchical, recursive queries used for creating hierarchies between dimensions. Watch the following video
                            to get a better understanding of this concept:
                        </p>
                        <ul>
                            <a href="https://www.youtube.com/watch?v=eKyj16bX_fs">SQL Self Join</a>
                        </ul>
                        <h4 class="pt-4">Summary:</h4>
                        <ul>
                            <li class="pt-1">As mentioned above, The <b>SELF<i> Join</i></b> is used to extract an underlying hierarchy within
                                a single table. This is a more advanced use case, though if you want to try out a self join, use the following
                                syntax:
                                <br><code>SELECT *<br> FROM [tableA]<br> [INNER] JOIN [tableA] AS [alias] ON [tableA].[primaryKey] = [alias].[secondaryColumn];</code></li>
                            <li class="pt-4">As mentioned in the CROSS Join section, <b><i>scaffolding</i></b> data is a common data manipulation
                            activity used for changing the granularity of a dataset. SELF Joins can be used for scaffolding in most cases.</li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary">Unions</h2>
                        <p class="pt-3">Now that you're a master of querying multiple tables, let's learn how to combine result sets. When working with
                            data, you may need to query multiple data sources, whether it be text files, JSON/XML files, or other databases. <b><i>Unions</i></b>
                            allow you to gather identically structured datasets to create one master dataset. Watch the following video to get a better understanding
                            of this concept:
                        </p>
                        <ul>
                            <a href="https://www.youtube.com/watch?v=Jva68Yh_s1E">SQL Union and Union All</a>
                        </ul>
                        <ul>
                            <li class="pt-1">The <b><i>UNION ALL</i></b> operator allows you to append rows to the end of a query. The primary requirement to
                                create this type of query is that both queries MUST have the same number and names of columns. To use this operator, use the 
                                following syntax:
                                <br><code>SELECT *<br> FROM [table_name]<br> WHERE [conditions]<br> UNION ALL<br> SELECT * <br>FROM [table_name]<br> WHERE [conditions];</code></li>
                            <li class="pt-4">The <b><i>UNION</i></b> operator allows you to combine result sets and eliminates any duplicate rows. The primary 
                                requirement to create this type of query is that both queries MUST have the same number and names of columns. To use this operator, 
                                use the following syntax:
                                <br><code>SELECT *<br> FROM [table_name]<br> WHERE [conditions]<br> UNION<br> SELECT * <br>FROM [table_name]<br> WHERE [conditions];</code></li>
                        </ul>
                        <h2 class="mt-5 px-4 px-sm-3 border-start border-3 border-secondary" id="exercise">Exercise</h2>
                        <p><b>Congratulations!</b> You just completed the Joins and Unions Tutorial! To help test your knowledge, let's use
                            the "Sales" database to run some more queries using multiple tables. This exercise is based on the exercise of 
                            the previous tutorial. <br>**<b><i>It's highly recommended that you
                            complete the exercise outlined in the previous tutorial before beginning this exercise.**</i></b>
                            </i></b>
                        </p>
                        <h4 class="pt-3">Instructions:</h4>
                        <ol>
                            <li class="pt-2">Open your RDBMS Client.</li>
                            <li class= "pt-2">To keep things interesting, let's add some more data to our Sales database:</li>
                            <ul class="pt-3">
                                <b>Customers</b>
                                <br>1006, Samuel, Jackson, 700 N Julia Lane, Los Angeles, CA, 91982
                                <br>1007, Jackson, Mills, 56 Tyson Boulevard, Tucson, AZ, 88709
                                <br>1008, Paula, Hurst, 755 Frett Road, Henrico, VA, 21321
                                <br>1009, Simon, Fitzpatrick, 680 Porter Street, Richmond, VA, 21244
                                <br>1010, Patricia, Simmons, 550 N 440 S, Salt Lake City, UT, 84044
                                <br>
                                <br>
                                <b>Orders</b>
                                <br>190001130, 2023-01-31, 1001
                                <br>190001131, 2023-01-31, 1008
                                <br>190001132, 2023-01-31, 1000
                                <br>190001133, 2023-02-01, 1003
                                <br>190001134, 2023-02-01, 1002
                                <br>190001135, 2023-02-01, 1009
                                <br>190001136, 2023-02-01, 1004
                                <br>
                                <br>
                                <b>Order_Items</b>
                                <br>190001130, 1, Assorted Socks (3-Pair), White, Grey, and Black Socks. 100% Cotton, 8.99
                                <br>190001130, 2, Pajama Bottoms - XL, X-Large Pajama Bottoms, 100% Cotton, Fruit of the Loom, 12.49
                                <br>190001130, 3, White Undershirt (XL), XL White Undershirt made by Fruit of the Loom, 8.99
                                <br>190001130, 4, Funny Slippers (2-Pack), 2 Pairs of customized silly slippers, 33.99
                                <br>190001131, 1, Bike Rack, Bike rack for large SUV. Can carry up to 4 bicyles, 119.99
                                <br>190001131, 2, Bike U-Lock, U-Lock for bicycles. Can withstand up to 150 lbs of force, 49.99
                                <br>190001132, 1, Pantry Storage Container (4-Pack), Food storage container for dry foods, 9.99
                                <br>190001133, 1, Rain Jacket (Large), Light duty rain jacket for men, 21.49
                                <br>190001134, 1, Snow Shoes (Mens), Size 14 men's snow shoes, 34.49
                                <br>190001134, 2, Snow Gloves (Mens), Large Heavy-Duty gloves for use in snowy conditions, 13.49
                                <br>190001134, 3, Thermal Undergarments (4-Pack), XL thermal undergarments for cold conditions, 24.99
                                <br>190001136, 1, Ice Fishing Kit, Collection of bait and tackle gear for ice fishing activities, 59.99
                                <br>
                            </ul>
                            <li class="pt-4">Using the "Sales" database, answer the following questions:</li>
                            <ol type="a">
                                <li class="pt-3"><b>Write a query that shows the address (street, city, state columns) for each customer who placed an
                                                    order between 2022-01-01 and 2022-12-31.
                                </b></li>
                                <li class="pt-3"><b>Write a query that shows all customers and whether or not they placed an order.</b></li>
                                <li class="pt-3"><b>Write a query that shows all rows in both the "Customers" and "Orders" tables.</b></li>
                                <li class="pt-3"><b>Write a query that shows every possible combination of "Orders" and "Order_Items" tables.</b></li>
                                <li class="pt-3"><b>Write three separate queries that show all unique orders either placed between August 1, 2020 and September 1, 2021, was placed
                                    by customer living in California, Washington or Virginia, or was placed by a customer with a first name containing the substring "Sam". Combine 
                                    all queries. Order the result set by order_date in descending order.
                                </b></li>
                            </ol>
                            <li class="pt-2"><b>Exercise Completed! Click <a href="./Joins-and-Unions-Answer-Key.html">here</a> to view the answers.</b></li>
                            <div class="col">
                                <p class="pt-4">Have any issues with the above exercise? Post your question on Discord!</p>
                            </div>
                        </ol>
                        <!-- Previous/Next Topic buttons. -->
                    <div class="row mt-4 mt-md-5 mb-2 px-3">
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary mb-3 mb-sm-0 py-2 fs-5"
                            href="Naming-Conventions.html">
                            Previous Topic
                        </a>
                        <div class="col-0 col-sm-4"></div>
                        <a
                            class="col-12 col-sm-4 btn btn-outline-primary py-2 fs-5"
                            href="Case-Statements.html">
                            Next Topic
                        </a>
                    </div>
                </section>
            </div>
            <div class="col-md-1 col-lg-2 col-xxl-3"></div>
        </div>
    </div>
    <!-- Footer at bottom of page. -->
    <footer class="container-fluid bg-secondary">
        <div class="row align-items-center h-100">
            <h4 class="col m-0 text-center text-white">
                © 2023 Data Science Club @ UVU
            </h4>
        </div>
    </footer>
</body>
</html>
